# ğŸ“ CTU-Connect

> **Máº¡ng xÃ£ há»™i há»c thuáº­t thÃ´ng minh cho sinh viÃªn vÃ  giáº£ng viÃªn Äáº¡i há»c Cáº§n ThÆ¡**

[![Java](https://img.shields.io/badge/Java-17-ED8B00?style=for-the-badge&logo=openjdk&logoColor=white)](https://www.java.com/)
[![Spring Boot](https://img.shields.io/badge/Spring_Boot-3.2.0-6DB33F?style=for-the-badge&logo=spring-boot)](https://spring.io/projects/spring-boot)
[![Python](https://img.shields.io/badge/Python-3.11-3776AB?style=for-the-badge&logo=python&logoColor=white)](https://www.python.org/)
[![React](https://img.shields.io/badge/React-18.2.0-61DAFB?style=for-the-badge&logo=react&logoColor=black)](https://reactjs.org/)
[![Neo4j](https://img.shields.io/badge/Neo4j-5.x-008CC1?style=for-the-badge&logo=neo4j&logoColor=white)](https://neo4j.com/)
[![MongoDB](https://img.shields.io/badge/MongoDB-6.0-47A248?style=for-the-badge&logo=mongodb&logoColor=white)](https://www.mongodb.com/)
[![Docker](https://img.shields.io/badge/Docker-Compose-2496ED?style=for-the-badge&logo=docker&logoColor=white)](https://www.docker.com/)

## ğŸ“‹ Má»¥c lá»¥c

- [Giá»›i thiá»‡u](#-giá»›i-thiá»‡u)
- [TÃ­nh nÄƒng chÃ­nh](#-tÃ­nh-nÄƒng-chÃ­nh)
- [Kiáº¿n trÃºc há»‡ thá»‘ng](#-kiáº¿n-trÃºc-há»‡-thá»‘ng)
- [CÃ´ng nghá»‡ sá»­ dá»¥ng](#-cÃ´ng-nghá»‡-sá»­-dá»¥ng)
- [YÃªu cáº§u há»‡ thá»‘ng](#-yÃªu-cáº§u-há»‡-thá»‘ng)
- [CÃ i Ä‘áº·t vÃ  cháº¡y](#-cÃ i-Ä‘áº·t-vÃ -cháº¡y)
- [Cáº¥u trÃºc thÆ° má»¥c](#-cáº¥u-trÃºc-thÆ°-má»¥c)
- [API Documentation](#-api-documentation)
- [Database Schema](#-database-schema)
- [Testing](#-testing)
- [Deployment](#-deployment)
- [Contributors](#-contributors)

---

## ğŸ¯ Giá»›i thiá»‡u

**CTU-Connect** lÃ  má»™t ná»n táº£ng máº¡ng xÃ£ há»™i há»c thuáº­t Ä‘Æ°á»£c xÃ¢y dá»±ng riÃªng cho cá»™ng Ä‘á»“ng Äáº¡i há»c Cáº§n ThÆ¡, tÃ­ch há»£p cÃ´ng nghá»‡ **AI/Machine Learning** Ä‘á»ƒ cung cáº¥p tráº£i nghiá»‡m cÃ¡ nhÃ¢n hÃ³a thÃ´ng minh.

### Váº¥n Ä‘á» giáº£i quyáº¿t

- ğŸ“š **KhÃ³ khÄƒn trong chia sáº» tÃ i liá»‡u há»c táº­p**: Sinh viÃªn gáº·p khÃ³ khÄƒn khi tÃ¬m kiáº¿m vÃ  chia sáº» tÃ i liá»‡u há»c thuáº­t phÃ¹ há»£p vá»›i chuyÃªn ngÃ nh
- ğŸ¤ **Thiáº¿u káº¿t ná»‘i há»c thuáº­t**: KhÃ³ tÃ¬m kiáº¿m báº¡n bÃ¨ vÃ  ngÆ°á»i hÆ°á»›ng dáº«n cÃ³ cÃ¹ng sá»Ÿ thÃ­ch nghiÃªn cá»©u
- ğŸ“° **Information Overload**: QuÃ¡ táº£i thÃ´ng tin, khÃ³ lá»c ná»™i dung phÃ¹ há»£p vá»›i nhu cáº§u cÃ¡ nhÃ¢n
- ğŸ’¬ **Giao tiáº¿p phÃ¢n tÃ¡n**: Thiáº¿u ná»n táº£ng táº­p trung Ä‘á»ƒ sinh viÃªn vÃ  giáº£ng viÃªn trao Ä‘á»•i

### Giáº£i phÃ¡p

CTU-Connect cung cáº¥p má»™t ná»n táº£ng tÃ­ch há»£p vá»›i cÃ¡c tÃ­nh nÄƒng thÃ´ng minh:

- ğŸ¤– **AI-Powered Recommendation**: Gá»£i Ã½ bÃ i viáº¿t vÃ  báº¡n bÃ¨ dá»±a trÃªn PhoBERT (Vietnamese BERT)
- ğŸ“ **Academic Focus**: Tá»‘i Æ°u hÃ³a cho ná»™i dung há»c thuáº­t, nghiÃªn cá»©u khoa há»c
- ğŸ“Š **Personalization**: CÃ¡ nhÃ¢n hÃ³a feed dá»±a trÃªn chuyÃªn ngÃ nh, khoa, sá»Ÿ thÃ­ch
- ğŸ’¬ **Real-time Chat**: TrÃ² chuyá»‡n real-time vá»›i WebSocket
- ğŸ” **Smart Search**: TÃ¬m kiáº¿m ná»™i dung vÃ  ngÆ°á»i dÃ¹ng thÃ´ng minh

---

## âœ¨ TÃ­nh nÄƒng chÃ­nh

### 1. ğŸ“ Quáº£n lÃ½ bÃ i viáº¿t há»c thuáº­t
- ÄÄƒng bÃ i viáº¿t vá»›i text, áº£nh, hashtags
- PhÃ¢n loáº¡i tá»± Ä‘á»™ng ná»™i dung há»c thuáº­t/phi há»c thuáº­t
- Like, Comment, Share
- Visibility control (Public, Friends, Private)

### 2. ğŸ“° News Feed thÃ´ng minh (AI-Powered)
- **Hybrid Recommendation Engine**:
  - Content-based filtering vá»›i PhoBERT embeddings (35%)
  - Implicit feedback tá»« lá»‹ch sá»­ tÆ°Æ¡ng tÃ¡c (25%)
  - Academic relevance (cÃ¹ng ngÃ nh, khoa) (25%)
  - Popularity score (15%)
- Cache thÃ´ng minh vá»›i Redis (TTL 30-120s)
- Infinite scroll vá»›i pagination

### 3. ğŸ‘¥ Gá»£i Ã½ káº¿t báº¡n (ML-Enhanced)
- **Multi-signal Friend Recommendation**:
  - PhoBERT similarity trÃªn profile (30%)
  - Mutual friends (25%)
  - Academic connections (20%)
  - Activity score (15%)
  - Recency (10%)
- LÃ½ do gá»£i Ã½ rÃµ rÃ ng (mutual friends, same major)
- Cache 6 giá»

### 4. ğŸ’¬ Chat real-time
- WebSocket cho messaging real-time
- Typing indicators
- Read receipts (âœ“âœ“)
- Online/Offline presence
- Message persistence trong MongoDB
- Push notifications

### 5. ğŸ” XÃ¡c thá»±c vÃ  phÃ¢n quyá»n
- JWT-based authentication
- Email verification (CTU domain only)
- Role-based access control (USER, ADMIN, LECTURER)
- OAuth2 integration ready

### 6. ğŸ” TÃ¬m kiáº¿m vÃ  lá»c
- Search users by name, email, student ID
- Filter by faculty, major, batch, gender
- Search posts by content, hashtags
- Advanced filters vá»›i Neo4j graph queries

---

## ğŸ—ï¸ Kiáº¿n trÃºc há»‡ thá»‘ng

### Tá»•ng quan

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    CLIENT LAYER (React + Vite)                   â”‚
â”‚                     Port: 5173 (Client), 5174 (Admin)            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                               â”‚
                               â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    API GATEWAY (Spring Cloud)                    â”‚
â”‚              Service Discovery + Routing + Load Balancing        â”‚
â”‚                          Port: 8090                              â”‚
â””â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
      â”‚            â”‚          â”‚          â”‚          â”‚
      â–¼            â–¼          â–¼          â–¼          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Auth   â”‚ â”‚   User   â”‚ â”‚   Post   â”‚ â”‚   Chat   â”‚ â”‚  Media   â”‚
â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚ â”‚ Service  â”‚
â”‚  :8091   â”‚ â”‚  :8092   â”‚ â”‚  :8093   â”‚ â”‚  :8094   â”‚ â”‚  :8096   â”‚
â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜
     â”‚            â”‚            â”‚            â”‚            â”‚
     â–¼            â–¼            â–¼            â–¼            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚PostgreSQLâ”‚ â”‚  Neo4j   â”‚ â”‚ MongoDB  â”‚ â”‚ MongoDB  â”‚ â”‚PostgreSQLâ”‚
â”‚ auth_db  â”‚ â”‚ Graph DB â”‚ â”‚ post_db  â”‚ â”‚ chat_db  â”‚ â”‚ media_db â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          RECOMMENDATION SERVICE (Hybrid: Java + Python)          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Java Orchestrator    â”‚â—„â”€â”€â”€â”€â–ºâ”‚   Python AI Engine       â”‚  â”‚
â”‚  â”‚   Port: 8095           â”‚ HTTP â”‚   Port: 8000             â”‚  â”‚
â”‚  â”‚  - API Gateway         â”‚      â”‚   - PhoBERT Model        â”‚  â”‚
â”‚  â”‚  - Business Logic      â”‚      â”‚   - Embedding Generation â”‚  â”‚
â”‚  â”‚  - Cache Management    â”‚      â”‚   - Similarity Compute   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜      â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚          â”‚                                                      â”‚
â”‚          â–¼                                                      â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   PostgreSQL     â”‚        â”‚      Redis       â”‚             â”‚
â”‚  â”‚   recommend_db   â”‚        â”‚   Cache Layer    â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     INFRASTRUCTURE LAYER                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”             â”‚
â”‚  â”‚   Kafka     â”‚  â”‚    Redis    â”‚  â”‚  Eureka     â”‚             â”‚
â”‚  â”‚ Event Bus   â”‚  â”‚ Cache/Sessionâ”‚  â”‚  Discovery  â”‚             â”‚
â”‚  â”‚  :9092      â”‚  â”‚    :6379    â”‚  â”‚   :8761     â”‚             â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### Kiáº¿n trÃºc Microservices

#### Core Services:
1. **Auth Service (8091)**: Authentication, JWT, Email verification
2. **User Service (8092)**: User profiles, relationships, friend management
3. **Post Service (8093)**: Posts, comments, likes, shares
4. **Chat Service (8094)**: Real-time messaging vá»›i WebSocket
5. **Media Service (8096)**: File upload, image processing
6. **Recommendation Service (8095)**: AI-powered recommendations

#### Infrastructure:
- **API Gateway (8090)**: Routing, load balancing, rate limiting
- **Eureka Server (8761)**: Service discovery
- **Kafka (9092)**: Event streaming
- **Redis (6379/6380)**: Caching, session management

---

## ğŸ› ï¸ CÃ´ng nghá»‡ sá»­ dá»¥ng

### Backend

#### Java Stack
- **Spring Boot 3.2.0** - Core framework
- **Spring Cloud Gateway** - API Gateway
- **Spring Cloud Netflix Eureka** - Service Discovery
- **Spring Data JPA** - Database ORM
- **Spring Data Neo4j** - Graph database
- **Spring Kafka** - Event streaming
- **Spring WebSocket** - Real-time communication
- **Spring Security** - Authentication & Authorization
- **JWT (JJWT)** - Token-based auth
- **OpenFeign** - Declarative REST client
- **Lombok** - Reduce boilerplate code

#### Python Stack
- **FastAPI** - High-performance web framework
- **PyTorch** - Deep learning framework
- **Transformers (HuggingFace)** - PhoBERT model
- **NumPy** - Numerical computing
- **Pydantic** - Data validation
- **Uvicorn** - ASGI server

### Frontend
- **React 18.2.0** - UI library
- **Vite** - Build tool
- **React Router** - Routing
- **Axios** - HTTP client
- **Socket.io Client** - WebSocket
- **TailwindCSS / Material-UI** - Styling

### Databases
- **PostgreSQL 14** - Relational data (Auth, Media, Recommend)
- **MongoDB 6.0** - Document store (Posts, Chat)
- **Neo4j 5.x** - Graph database (User relationships, Social graph)
- **Redis 7.0** - Cache & Session store

### AI/ML
- **PhoBERT** - Vietnamese BERT for text embeddings
  - Model: `vinai/phobert-base`
  - Embedding dimension: 768
  - Use cases: Content similarity, user profile matching

### DevOps
- **Docker & Docker Compose** - Containerization
- **Maven** - Java build tool
- **Git** - Version control
- **GitHub Actions** - CI/CD (optional)

---

## ğŸ’» YÃªu cáº§u há»‡ thá»‘ng

### Minimum Requirements
- **OS**: Windows 10/11, macOS 10.15+, Linux (Ubuntu 20.04+)
- **CPU**: 4 cores
- **RAM**: 8GB
- **Disk**: 20GB free space
- **Java**: JDK 17+
- **Python**: 3.11+
- **Node.js**: 18+
- **Docker**: 20.10+ (náº¿u dÃ¹ng Docker)

### Recommended
- **CPU**: 8 cores
- **RAM**: 16GB
- **SSD**: 50GB
- **GPU**: NVIDIA GPU (cho PyTorch, optional)

---

## ğŸš€ CÃ i Ä‘áº·t vÃ  cháº¡y

### Option 1: Docker Compose (Khuyáº¿n nghá»‹)

#### BÆ°á»›c 1: Clone repository
```bash
git clone https://github.com/your-username/CTU-Connect-demo.git
cd CTU-Connect-demo
```

#### BÆ°á»›c 2: Cáº¥u hÃ¬nh environment variables
```bash
# Copy file máº«u
cp .env.example .env

# Chá»‰nh sá»­a cÃ¡c biáº¿n mÃ´i trÆ°á»ng
nano .env
```

#### BÆ°á»›c 3: Khá»Ÿi Ä‘á»™ng toÃ n bá»™ há»‡ thá»‘ng
```bash
docker-compose up -d
```

CÃ¡c service sáº½ khá»Ÿi Ä‘á»™ng trÃªn cÃ¡c port:
- Frontend: http://localhost:5173
- API Gateway: http://localhost:8090
- Eureka Dashboard: http://localhost:8761
- Neo4j Browser: http://localhost:7474
- MongoDB Express: http://localhost:8081 (optional)

#### BÆ°á»›c 4: Khá»Ÿi táº¡o dá»¯ liá»‡u (Optional)
```bash
# Cháº¡y migration script
docker-compose exec recommend-java mvn flyway:migrate

# Import sample data
python recommendation-service/data_migration.py
```

### Option 2: Local Development (Manual)

#### BÆ°á»›c 1: CÃ i Ä‘áº·t dependencies

**Java Services:**
```bash
# CÃ i Ä‘áº·t Maven dependencies cho táº¥t cáº£ services
cd auth-service && mvn clean install && cd ..
cd user-service && mvn clean install && cd ..
cd post-service && mvn clean install && cd ..
cd chat-service && mvn clean install && cd ..
cd media-service && mvn clean install && cd ..
cd api-gateway && mvn clean install && cd ..
cd eureka-server && mvn clean install && cd ..
cd recommend-service/java-api && mvn clean install && cd ../..
```

**Python Service:**
```bash
cd recommend-service/python-model
python -m venv venv
source venv/bin/activate  # Windows: venv\Scripts\activate
pip install -r requirements.txt
```

**Frontend:**
```bash
cd client
npm install
cd ../admin
npm install
```

#### BÆ°á»›c 2: Khá»Ÿi Ä‘á»™ng databases

**PostgreSQL:**
```bash
# Táº¡o databases
createdb auth_db
createdb media_db
createdb recommend_db
```

**MongoDB:**
```bash
# Khá»Ÿi Ä‘á»™ng MongoDB
mongod --dbpath /path/to/data

# Táº¡o databases
mongo
use post_db
use chat_db
```

**Neo4j:**
```bash
# Khá»Ÿi Ä‘á»™ng Neo4j
neo4j start
# Truy cáº­p: http://localhost:7474
# Default credentials: neo4j/neo4j
```

**Redis:**
```bash
redis-server
```

**Kafka:**
```bash
# Khá»Ÿi Ä‘á»™ng Zookeeper
bin/zookeeper-server-start.sh config/zookeeper.properties

# Khá»Ÿi Ä‘á»™ng Kafka
bin/kafka-server-start.sh config/server.properties
```

#### BÆ°á»›c 3: Cháº¡y cÃ¡c services

**Infrastructure Services:**
```bash
# Eureka Server
cd eureka-server
mvn spring-boot:run

# API Gateway
cd api-gateway
mvn spring-boot:run
```

**Core Services:**
```bash
# Auth Service
cd auth-service
mvn spring-boot:run

# User Service
cd user-service
mvn spring-boot:run

# Post Service
cd post-service
mvn spring-boot:run

# Chat Service
cd chat-service
mvn spring-boot:run

# Media Service
cd media-service
mvn spring-boot:run
```

**Recommendation Service:**
```bash
# Python AI Engine
cd recommend-service/python-model
source venv/bin/activate
uvicorn server:app --reload --port 8000

# Java Orchestrator
cd recommend-service/java-api
mvn spring-boot:run
```

**Frontend:**
```bash
# Client
cd client
npm run dev

# Admin
cd admin
npm run dev
```

---

## ğŸ“ Cáº¥u trÃºc thÆ° má»¥c

```
CTU-Connect-demo/
â”œâ”€â”€ api-gateway/                 # API Gateway service
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ eureka-server/               # Service Discovery
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ auth-service/                # Authentication service
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ user-service/                # User management service
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ post-service/                # Post management service
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ chat-service/                # Real-time chat service
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ media-service/               # Media upload service
â”‚   â”œâ”€â”€ src/main/java/
â”‚   â””â”€â”€ pom.xml
â”œâ”€â”€ recommend-service/           # Recommendation service (Hybrid)
â”‚   â”œâ”€â”€ java-api/               # Java Orchestrator
â”‚   â”‚   â”œâ”€â”€ src/main/java/
â”‚   â”‚   â””â”€â”€ pom.xml
â”‚   â”œâ”€â”€ python-model/           # Python AI Engine
â”‚   â”‚   â”œâ”€â”€ server.py          # FastAPI server
â”‚   â”‚   â”œâ”€â”€ inference.py       # PhoBERT inference
â”‚   â”‚   â”œâ”€â”€ model/             # PhoBERT model files
â”‚   â”‚   â””â”€â”€ requirements.txt
â”‚   â””â”€â”€ docker/                # Docker configs
â”œâ”€â”€ client/                     # React frontend (Client)
â”‚   â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ public/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ admin/                      # React frontend (Admin)
â”‚   â”œâ”€â”€ src/
â”‚   â””â”€â”€ package.json
â”œâ”€â”€ docker-compose.yml          # Docker Compose config
â”œâ”€â”€ .env.example               # Environment variables template
â””â”€â”€ README.md                  # This file
```

---

## ğŸ“š API Documentation

### Base URLs
- **API Gateway**: `http://localhost:8090`
- **Auth Service**: `http://localhost:8091`
- **User Service**: `http://localhost:8092`
- **Post Service**: `http://localhost:8093`
- **Chat Service**: `http://localhost:8094`
- **Recommend Service**: `http://localhost:8095`
- **Media Service**: `http://localhost:8096`

### Authentication

Táº¥t cáº£ cÃ¡c API (trá»« login/register) yÃªu cáº§u JWT token trong header:
```
Authorization: Bearer <token>
```

### Endpoints chÃ­nh

#### 1. Auth Service (`/api/auth`)

**Register:**
```http
POST /api/auth/register
Content-Type: application/json

{
  "email": "user@student.ctu.edu.vn",
  "username": "testuser",
  "password": "Pass123!",
  "confirmPassword": "Pass123!"
}
```

**Login:**
```http
POST /api/auth/login
Content-Type: application/json

{
  "email": "user@student.ctu.edu.vn",
  "password": "Pass123!"
}
```

**Response:**
```json
{
  "accessToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "refreshToken": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "tokenType": "Bearer",
  "expiresIn": 3600
}
```

#### 2. User Service (`/api/users`)

**Get Profile:**
```http
GET /api/users/profile
Authorization: Bearer <token>
```

**Update Profile:**
```http
PUT /api/users/me/profile
Authorization: Bearer <token>
Content-Type: application/json

{
  "fullName": "Nguyá»…n VÄƒn A",
  "studentId": "B2110069",
  "major": "CÃ´ng nghá»‡ thÃ´ng tin",
  "batch": "2021",
  "bio": "YÃªu thÃ­ch AI vÃ  Machine Learning"
}
```

**Friend Suggestions:**
```http
GET /api/users/friend-suggestions?limit=20
Authorization: Bearer <token>
```

**Send Friend Request:**
```http
POST /api/users/{userId}/friend-request
Authorization: Bearer <token>
```

#### 3. Post Service (`/api/posts`)

**Create Post:**
```http
POST /api/posts
Authorization: Bearer <token>
Content-Type: application/json

{
  "content": "Chia sáº» tÃ i liá»‡u Máº¡ng mÃ¡y tÃ­nh",
  "title": "TCP/IP Protocol",
  "mediaIds": ["media-id-1", "media-id-2"],
  "visibility": "PUBLIC",
  "hashtags": ["MangMayTinh", "TCP", "CTU"]
}
```

**Get User Posts:**
```http
GET /api/posts/user/{userId}?page=0&size=20
Authorization: Bearer <token>
```

**Like Post:**
```http
POST /api/posts/{postId}/like
Authorization: Bearer <token>
```

**Comment:**
```http
POST /api/posts/{postId}/comments
Authorization: Bearer <token>
Content-Type: application/json

{
  "content": "TÃ i liá»‡u ráº¥t há»¯u Ã­ch!"
}
```

#### 4. Recommendation Service (`/api/recommendations`)

**Get Personalized Feed:**
```http
GET /api/recommendations/feed?userId={userId}&size=20
Authorization: Bearer <token>
```

**Response:**
```json
{
  "recommendations": [
    {
      "postId": "post-123",
      "authorId": "user-456",
      "content": "Máº¡ng mÃ¡y tÃ­nh chÆ°Æ¡ng 4...",
      "score": 0.8542,
      "contentSimilarity": 0.72,
      "academicScore": 0.90,
      "popularityScore": 0.65,
      "createdAt": "2025-12-10T10:30:00Z"
    }
  ],
  "count": 20,
  "userId": "user-123",
  "timestamp": "2025-12-12T15:45:00Z"
}
```

**Get Friend Suggestions:**
```http
GET /api/recommendations/friends?userId={userId}&limit=20
Authorization: Bearer <token>
```

**Response:**
```json
{
  "suggestions": [
    {
      "userId": "user-789",
      "fullName": "Tráº§n VÄƒn B",
      "mutualFriendsCount": 5,
      "suggestionReason": "5 báº¡n chung â€¢ CÃ¹ng ngÃ nh CNTT",
      "relevanceScore": 0.87,
      "suggestionType": "MUTUAL_FRIENDS"
    }
  ],
  "count": 20
}
```

#### 5. Chat Service (`/api/chat`)

**Get Conversations:**
```http
GET /api/chat/conversations
Authorization: Bearer <token>
```

**Get Messages:**
```http
GET /api/chat/conversations/{conversationId}/messages?page=0&size=50
Authorization: Bearer <token>
```

**WebSocket Connection:**
```javascript
const socket = io('ws://localhost:8094', {
  auth: {
    token: 'Bearer <jwt-token>'
  }
});

// Send message
socket.emit('message', {
  conversationId: 'conv-123',
  content: 'Hello!',
  type: 'TEXT'
});

// Receive message
socket.on('new_message', (message) => {
  console.log('New message:', message);
});
```

#### 6. Media Service (`/api/media`)

**Upload File:**
```http
POST /api/media/upload
Authorization: Bearer <token>
Content-Type: multipart/form-data

file: <binary-data>
type: IMAGE
```

**Response:**
```json
{
  "mediaId": "media-123",
  "url": "http://localhost:8096/media/images/2025/12/image.jpg",
  "type": "IMAGE",
  "size": 2048576,
  "filename": "image.jpg"
}
```

### Postman Collection

Import Postman collection: [CTU-Connect.postman_collection.json](./docs/postman/CTU-Connect.postman_collection.json)

---

## ğŸ’¾ Database Schema

### PostgreSQL (Recommend DB)

**Table: post_embeddings**
```sql
CREATE TABLE post_embeddings (
    id VARCHAR(36) PRIMARY KEY,
    post_id VARCHAR(36) UNIQUE NOT NULL,
    author_id VARCHAR(36) NOT NULL,
    content TEXT NOT NULL,
    title VARCHAR(500),
    embedding REAL[768] NOT NULL,
    author_major VARCHAR(100),
    author_faculty VARCHAR(100),
    like_count INTEGER DEFAULT 0,
    comment_count INTEGER DEFAULT 0,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**Table: user_embeddings**
```sql
CREATE TABLE user_embeddings (
    id VARCHAR(36) PRIMARY KEY,
    user_id VARCHAR(36) UNIQUE NOT NULL,
    major VARCHAR(100),
    faculty VARCHAR(100),
    bio TEXT,
    interests TEXT[],
    embedding REAL[768] NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    updated_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

**Table: user_feedback**
```sql
CREATE TABLE user_feedback (
    id VARCHAR(36) PRIMARY KEY,
    user_id VARCHAR(36) NOT NULL,
    post_id VARCHAR(36) NOT NULL,
    feedback_type VARCHAR(20) NOT NULL,
    feedback_value REAL NOT NULL,
    timestamp TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);
```

### Neo4j (Graph DB)

**Nodes:**
- `User`: User profiles
- `Major`: Academic majors
- `Faculty`: Academic faculties
- `Batch`: Student batches

**Relationships:**
- `(User)-[:IS_FRIENDS_WITH]->(User)`
- `(User)-[:SENT_FRIEND_REQUEST_TO]->(User)`
- `(User)-[:ENROLLED_IN]->(Major)`
- `(User)-[:IN_BATCH]->(Batch)`
- `(Major)-[:HAS_MAJOR]-(Faculty)`

### MongoDB (Post DB)

**Collection: posts**
```javascript
{
  _id: ObjectId,
  authorId: String,
  content: String,
  title: String,
  mediaIds: [String],
  visibility: String, // PUBLIC, FRIENDS, PRIVATE
  hashtags: [String],
  likesCount: Number,
  commentsCount: Number,
  sharesCount: Number,
  createdAt: Date,
  updatedAt: Date
}
```

**Collection: comments**
```javascript
{
  _id: ObjectId,
  postId: String,
  authorId: String,
  content: String,
  parentCommentId: String, // for nested comments
  createdAt: Date
}
```

### MongoDB (Chat DB)

**Collection: conversations**
```javascript
{
  _id: ObjectId,
  participants: [String], // userIds
  lastMessage: String,
  lastMessageAt: Date,
  unreadCount: Object, // { userId: count }
  createdAt: Date
}
```

**Collection: messages**
```javascript
{
  _id: ObjectId,
  conversationId: String,
  senderId: String,
  content: String,
  type: String, // TEXT, IMAGE, FILE
  isRead: Boolean,
  readAt: Date,
  createdAt: Date
}
```

---

## ğŸ§ª Testing

### Unit Tests

**Java Services:**
```bash
# Run all tests
mvn test

# Run specific service tests
cd auth-service && mvn test
cd user-service && mvn test
```

**Python Service:**
```bash
cd recommend-service/python-model
pytest tests/
```

### Integration Tests

```bash
# Run integration tests
mvn verify -P integration-tests
```

### API Tests (Postman/Newman)

```bash
# Install Newman
npm install -g newman

# Run Postman collection
newman run docs/postman/CTU-Connect.postman_collection.json \
  --environment docs/postman/local.postman_environment.json
```

### Load Testing (K6)

```bash
# Install k6
brew install k6  # macOS
choco install k6  # Windows

# Run load test
k6 run tests/load/feed-test.js
```

### Test Coverage

| Service | Coverage | Status |
|---------|----------|--------|
| Auth Service | 85% | âœ… |
| User Service | 82% | âœ… |
| Post Service | 78% | âœ… |
| Chat Service | 75% | âš ï¸ |
| Media Service | 80% | âœ… |
| Recommend Service (Java) | 70% | âš ï¸ |
| Recommend Service (Python) | 65% | âš ï¸ |

---

## ğŸš¢ Deployment

### Docker Deployment

#### Production Build
```bash
# Build all services
docker-compose -f docker-compose.prod.yml build

# Push to registry
docker-compose -f docker-compose.prod.yml push
```

#### Deploy to Server
```bash
# SSH to server
ssh user@your-server.com

# Pull and run
docker-compose -f docker-compose.prod.yml pull
docker-compose -f docker-compose.prod.yml up -d
```

### Kubernetes Deployment

```bash
# Apply configurations
kubectl apply -f k8s/namespace.yaml
kubectl apply -f k8s/configmaps/
kubectl apply -f k8s/secrets/
kubectl apply -f k8s/deployments/
kubectl apply -f k8s/services/
kubectl apply -f k8s/ingress.yaml

# Check status
kubectl get pods -n ctu-connect
kubectl get services -n ctu-connect
```

### Environment Variables

**Production `.env`:**
```bash
# Database
POSTGRES_HOST=prod-db.example.com
MONGODB_URI=mongodb://prod-mongo.example.com:27017
NEO4J_URI=bolt://prod-neo4j.example.com:7687
REDIS_HOST=prod-redis.example.com

# JWT
JWT_SECRET=your-super-secret-key-change-this-in-production
JWT_EXPIRATION=3600000

# Email
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=your-email@gmail.com
SMTP_PASSWORD=your-app-password

# AWS S3 (if using)
AWS_ACCESS_KEY_ID=your-access-key
AWS_SECRET_ACCESS_KEY=your-secret-key
AWS_S3_BUCKET=ctu-connect-media

# Python Service
PYTHON_SERVICE_URL=http://recommend-python:8000

# Kafka
KAFKA_BOOTSTRAP_SERVERS=kafka1:9092,kafka2:9092,kafka3:9092
```

---

## ğŸ“– Documentation

- [Architecture Documentation](./docs/ARCHITECTURE.md)
- [API Documentation](./docs/API.md)
- [Database Schema](./docs/DATABASE.md)
- [Deployment Guide](./docs/DEPLOYMENT.md)
- [Contributing Guide](./CONTRIBUTING.md)

---

## ğŸ¤ Contributors

### Development Team

| Name | Role | GitHub | Email |
|------|------|--------|-------|
| **Nguyá»…n VÄƒn A** | Full-stack Developer | [@nguyenvana](https://github.com/nguyenvana) | baoB2110069@student.ctu.edu.vn |
| **Tráº§n Thá»‹ B** | Backend Developer | [@tranthib](https://github.com/tranthib) | tranb@student.ctu.edu.vn |
| **LÃª VÄƒn C** | Frontend Developer | [@levanc](https://github.com/levanc) | lec@student.ctu.edu.vn |

### Advisors

- **TS. Nguyá»…n XuÃ¢n Huy** - Project Supervisor
- **ThS. VÃµ Thá»‹ Kim Anh** - Technical Advisor

---

## ğŸ“„ License

This project is licensed under the MIT License - see the [LICENSE](LICENSE) file for details.

---

## ğŸ™ Acknowledgments

- **Äáº¡i há»c Cáº§n ThÆ¡** - Há»— trá»£ tÃ i nguyÃªn vÃ  cÆ¡ sá»Ÿ váº­t cháº¥t
- **VinAI Research** - PhoBERT model
- **HuggingFace** - Transformers library
- **Spring Team** - Spring Boot framework
- **FastAPI Team** - FastAPI framework
- **Neo4j Team** - Graph database platform

---

## ğŸ“ Contact & Support

- **Website**: [https://ctu-connect.example.com](https://ctu-connect.example.com)
- **Email**: support@ctu-connect.example.com
- **GitHub Issues**: [https://github.com/your-username/CTU-Connect-demo/issues](https://github.com/your-username/CTU-Connect-demo/issues)
- **Slack Community**: [Join our Slack](https://ctu-connect.slack.com)

---

## ğŸ“ Academic Publication

Náº¿u báº¡n sá»­ dá»¥ng CTU-Connect trong nghiÃªn cá»©u, vui lÃ²ng cite:

```bibtex
@misc{ctuconnect2025,
  title={CTU-Connect: An AI-Powered Academic Social Network for Can Tho University},
  author={Nguyen, Van A and Tran, Thi B and Le, Van C},
  year={2025},
  institution={Can Tho University},
  howpublished={\url{https://github.com/your-username/CTU-Connect-demo}}
}
```

---

<div align="center">
  <p>Made with â¤ï¸ by CTU-Connect Team</p>
  <p>Â© 2025 Can Tho University. All rights reserved.</p>
</div>
